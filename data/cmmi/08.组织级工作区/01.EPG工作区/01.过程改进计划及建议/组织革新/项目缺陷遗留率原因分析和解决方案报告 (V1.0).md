**电讯盈科信息技术（广州）有限公司**

**项目缺陷遗留率**

**原因分析和解决方案报告**

**声明**

本手册是电讯盈科信息技术（广州）有限公司的财产。它是以保密方式印发的，只应在“需要知道”的基础上分发。

本手册的用户请注意，除非根据本公司的政策和管理程序获得授权，否则不得将本手册中包含的信息借出或传播到本公司之外。

此外，未经本公司事先书面同意，不得全部或部分复制本手册，也不得用于提供本手册以外的目的。

\*\*如果打印 或下载， 本文档是不受控制的\*\*

修订履历

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| **版本号** | **修订日期** | **修订人** | **修订说明** | **批准日期** | **审核人** | **批准人** |
| V1.0 | 2024/07/26 | 张晓巍 | 新建 | 2024/07/26 | 石荣磊 | Jack Wong |
| V1.1 | 2024/8/5 | 张晓巍 | 利用模型印证可行性 | 2024/8/5 | 石荣磊 | Jack Wong |
|  |  |  |  |  |  |  |
|  |  |  |  |  |  |  |

**目 录**

[1.1 文档目的 5](#_Toc175753919)

[1.2 项目背景 5](#_Toc175753920)

[1.3 术语与缩写解释 5](#_Toc175753921)

[2 现象描述 6](#_Toc175753922)

[2.1 背景说明 6](#_Toc175753923)

[2.2 数据收集和分析 7](#_Toc175753924)

[2.3 数据分析初步结论 9](#_Toc175753925)

[3 原因分析 10](#_Toc175753926)

[3.1 原因分析小组成员及职责 10](#_Toc175753927)

[3.2 原因分析流程 10](#_Toc175753928)

[4 根本原因分析 11](#_Toc175753929)

[4.1 关键因素分析 11](#_Toc175753930)

[4.1.1 环境相似度 11](#_Toc175753931)

[4.1.2 测试用例指标 15](#_Toc175753932)

[4.2 关键因素分析结果 19](#_Toc175753933)

[5 建议解决方案 20](#_Toc175753934)

[5.1 提高环境相似度 20](#_Toc175753935)

[5.2 使用测试用例库 21](#_Toc175753936)

引言

* 1. 文档目的

本文档用于描述公司项目缺陷遗留率问题原因分析的结果和改进方案建议，以供公司过程改进和管理决策使用。

* 1. 项目背景

本文档的预期读者和使用者如下：

| 预期读者 | 阅读建议 |
| --- | --- |
| 公司领导 | 阅读数据分析结论部分以及建议解决方案部分，了解数据分析的结果和原因分析小组提出的建议解决方案。 |
| 部门经理 | 阅读根本原因分析和建议解决方案部分，了解所有存在的原因以及建议的解决方案。 |
| EPG | 阅读所有章节内容，对原因分析的准确性和合理性进行判断和分析。 |

* 1. 术语与缩写解释

|  |  |
| --- | --- |
| 术语 | 解 释 |
| 过程性能模型（PPM） | 过程或工作产品之间度量属性之间关系的描述，其从历史过程绩效数据开发而来，被用于预测未来的绩效。 |
| 过程性能基线（PPB） | 过程绩效的文档化的特性，其可能包括集中趋势和变差。 |
| 测试用例 | 测试用例是指为实施测试而向被测试系统提供的输入数据，操作或各种环境设置以及期望结果的一个特定集合。  测试用例控制软件的执行过程，它是对每一个测试项目的进一步实例化。 |

1. 现象描述
   1. 背景说明

CMMI（能力成熟度模型集成）是一个用于评价企业在软件开发、系统工程和项目管理等方面成熟度的模型。CMMI5是该模型中的最高级别，表示该组织在这些领域有极佳的改进能力、量化管理和过程改进。

缺陷遗留率是指在软件开发过程中，在产品发布前或过程中遗留下来的缺陷数量与发现缺陷总数的比例，这个指标对于组织不断改进其软件测试和开发过程至关重要。

经过组织内项目的数据采集样本分析:

目前的缺陷遗留率样本均值mean=9.84%，标准差δ=0.0407

经过商业目标分解要求，需要将缺陷遗留率样本均值mean降低到8.85%，标准差δ调整到0.0387。

![](data:image/png;base64...)

![](data:image/png;base64...)

经过41条实际项目数据的能力分析，可以得出CP=0.97,CPK=0.89，均小于1，说明能力不足，为满足此要求，需立即想办法进行革新和改进，否则将对商业目标的达成造成不利影响。

* 1. 数据收集和分析

EPG收集了公司项目的执行数据，并对项目数据的各项指标做了分析，从项目的实际采集数据得出，降低缺陷遗留率的主要相关因素是项目人员平均职级和项目需求密度，基于数据的相关性分析，得出项目人员职级和需求密度与缺陷遗留率的相关性很高，进而针对缺陷遗留率建立了模型，对未来项目的精细化控制提供基准。

**缺陷遗留率 = 0.2787 – 0.2919 \* 人员平均职级 - 0.2955 \* 需求密度**

此模型是基于项目实际的资源控制数据来形成的，可以根据项目的人员能力水平和需求的控制能力来规范和预测项目的缺陷遗留指标。

但EPG针对缺陷遗留率做革新分析时发现，人员能力水平/人员职级很难作为优化措施，涉及到人员职级调整的因素在每个公司都是全方位涉及的，作为革新举措很难找到合适的抓手；而需求密度在调研访谈过程中发现，受客户方影响比较大，需求分析过程中我们需要用户提供、明确需求信息，很难通过需求人员一方面的工作改进来规避和解决。因此，我们也很难控制由于需求不明引起的缺陷故障，也代表把需求密度作为革新的举措很难让实际项目团队认同和接受。

鉴于此，EPG收集了公司37个项目的关于缺陷遗留的具体问题，对形成因素进行了帕累托分析，如下图所示：

![](data:image/png;base64...)

通过分析发现，产品故障的主要成因包括“环境因素”、“用例因素”、“设计因素”以及“需求因素”，EPG对每个因素分别进行具体分析。

a) 环境因素：指的是测试开发过程中使用市面上较常用的设备或其他环境进行开发测试，但程序在实际应用中时，现场使用的环境过于老旧，导致开发测试的程序不兼容过于老旧的现场环境，包括现场过于老旧的设备、操作系统，业务动态库等。存在的各种不确定因素（环境因素）对软件的可靠性的直接或者间接的影响，软件开发测试过程中对环境设想过于理想化，现场环境与测试开发环境不一致，导致最终出现故障的情况。

b) 用例因素：指的是测试用例存在缺陷，可能包括测试流程错误或者测试结论错误。由于测试用例无法正确地指导测试工作，导致测试人员判断测试结果时出错，无法发现产品缺陷，最终在实际使用中暴露出故障的情况。

c) 设计因素：通常情况下，产品设计会以产品需求为基础，并且经过严谨的设计评审，能实现正常的产品功能，后续按照该设计方案进行开发。由于设计上的不足，在开发完成后发现的缺陷和故障，很难通过修改产品设计方案来修复，只能在设计方案与用户操作习惯之间制定使用规则，进行折中处理。每个设计方案都存在缺陷，但并非所有缺陷都会引起产品故障，因此我们很难通过控制设计方案来控制产品故障密度。

d) 需求因素：指的是在需求分析过程中，用户提出的需求不够明确，导致需求人员对产品需求理解不清晰，最终开发出来的产品功能与用户预期结果存在差异的情况。因需求不明引起的故障，需要需求分析过程中用户向需求人员提供更多需求信息，难以通过需求人员一方面的工作改进来避免故障。因此，我们也很难控制由于需求不明引起的缺陷故障。

* 1. 数据分析初步结论

从以上的数据分析结果看，缺陷遗留率的主要成因是环境因素、用例因素、设计因素和需求因素。其中，设计因素与需求因素与用户观点存在一定的关联，我方产品难以避免这些因素引起的故障，只能针对环境因素和用例因素进行分析，尝试找出优化改善方案。

因此，EPG成立原因分析小组进一步分析环境相似度、测试用例对缺陷遗留率的影响，寻找优化改进建议。

1. 原因分析
   1. 原因分析小组成员及职责

原因分析小组成员有公司各产品部部门经理、开发人员、需求人员、测试人员、项目经理、EPG等专家组成，并由EPG的领导负责，原因分析小组具体的工作内容包括：

1) 负责对产品故障密度降低问题进行根本原因分析；

2) 提出解决方案建议，并制定改进计划；

3) 提请解决方案建议评审，通过后组织实施解决方案；

4) 对解决方案实施情况进行跟踪和监控，并对结果进行评估。

基于以上工作内容，原因分析小组包括以下成员和职责：

|  |  |  |
| --- | --- | --- |
| **原因分析小组成员** | | |
| 姓名 | 在组织中的角色 | 职责 |
| 宋琲玮 | EPG组长 | 1.负责对问题的进行根本原因分析； 2.提出解决方案建议，并制定改进计划； 3.在解决方案建议得到批准后，组织实施解决方案； 4.对实施情况进行监控，并评价实施效果。 |
| 石荣磊 | EPG副组长 |
| 寇文军 | EPG |
| 张晓巍 | EPG |
| 陈洪波 | EPG |
| 林壮泽 | EPG |
| 黄官成 | QA |
| 王雪成 | 项目经理代表 |

* 1. 原因分析流程

根据缺陷遗留率原因分析的需要，本次原因分析的工作流程采用组织确定的《原因分析和解决过程》中的工作流程开展原因分析工作。

具体参见《原因分析和解决过程》中的工作流程和相关任务。

1. 根本原因分析
   1. 关键因素分析

关键因素分析主要从环境相似度和测试用例相关指标来进行分析。

* + 1. 环境相似度

环境相似度对缺陷遗留率可能存在影响，由于测试开发环境与现场使用环境存在各种差异，包括现场使用动态库版本与测试开发环境不一致、现场使用服务版本未更新到新版、现场使用数据库版本与开发测试使用数据库不一致、现场使用设备与开发测试环境设备厂家、型号不一致，使得测试过程中无法准确模拟现场环境，影响测试结果，无法及时发现缺陷并修复，最终在现场使用暴露出故障。

EPG计算了37个产品的环境相似度的均值控制图，结果如下图：

![](data:image/png;base64...)

分析发现，32个项目的环境相似度均值为67.46（满分100），整体处于较低水平，仍然存在较大的提升空间。以下列举出部分环境相似度低的产品及其评分低的具体子项。

|  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| **项目基本信息** | | | | **环境因素分析（每项20，总分100）** | | | | | |
| **项目经理** | **项目编号** | **项目名称** | **迭代版本** | **操作系统** | **数据库版本** | **应用服务器版本** | **浏览器版本** | **其它** | **整体相似度** |
| 张百园 | 32500634 | 中国移动吉林公司2022年成本费用智慧稽核系统采购合同 | V1 | 5 | 10 | 8 | 15 | 4 | 42 |
| 丁浩 | 32500684 | 中移动信息技术有限公司2023年天津支撑系统能力提升研发项目采购订单（PO-4520646275） | V1.0(功能上线) | 8 | 8 | 11 | 9 | 10 | 46 |
| 董桂生 | 32500645 | 2022-2023年中国联通北京市分公司财务管理运营平台（京智睿.财）软件委托研究开发服务框架合同 | V1 | 7 | 10 | 10 | 12 | 10 | 49 |
| 樊耀勇 | 32500659 | 中国移动吉林公司2022年网络建设在线监控系统建设工程公开招标项目 | V1 | 8 | 12 | 12 | 15 | 3 | 50 |
| 王春亮 | 32500640 | China Mobile International Limited 2023年MSS管理支撑能力建设（ERP投资建设、FA财务财务管理）服务采购合同-订单 |  | 8 | 20 | 15 | 10 | 2 | 55 |
| 张东风 | 32500657 | 2022年天津支撑系统能力提升研发项目（采购订单编号4520467107） | V1.0(功能上线) | 10 | 12 | 11 | 17 | 5 | 55 |
| 蒋闻远 | 32500682 | 中移动信息 2023 年集中化计划建设管理系统四期工程数据呈现等 11个模块应用软件开发与系统集成服务采购合同 | v3.4 | 8 | 15 | 10 | 15 | 7 | 55 |
| 王春亮 | 32500669 | 中国移动海南公司2023年投资一体化系统技术开发项目采购框架合同 | V1 | 10 | 15 | 15 | 15 | 3 | 58 |
| 张继柱 | 32500552 | 上海移动2022年供应链管理系统日常框架开发第3批(订单编号2021804208） | V1 | 12 | 15 | 15 | 15 | 5 | 62 |
| 蒋闻远 | 32500597 | 中国移动江苏公司2022年管理信息系统开发项目应用软件改造资产管理子系统采购合同 | V1.0(功能上线) | 12 | 15 | 15 | 15 | 5 | 62 |
| 张东风 | 32500558 | 山东移动2021年EAMEPA系统研发采购合同 | V1.1（功能优化） | 12 | 15 | 14 | 9 | 13 | 63 |
| 王春亮 | 32500597 | 中国移动江苏公司2022年管理信息系统开发项目应用软件改造资产管理子系统采购合同 | V1.1（功能优化） | 12 | 15 | 15 | 15 | 7 | 64 |
| 王森 | 32500630 | 江苏移动ERP集中化系统资产管理功能优化服务合同 | V1.1（功能优化） | 5 | 15 | 15 | 15 | 14 | 64 |
| 王春亮 | 32500630 | 江苏移动ERP集中化系统资产管理功能优化服务合同 | V1.0(功能上线) | 5 | 15 | 15 | 15 | 14 | 64 |

环境相似度的主要问题集中在项目运行环境的操作系统、设备厂家、设备型号、动态库版本、数据库版本、服务版本以及第三方依赖等存在较多差异，尤其是目前国产化大趋势下更加剧了这一现象。

同时，我们对环境相似度也做了相关性分析，具体结果如下

![](data:image/png;base64...)

因此，可以得出结论，提升环境相似度是降低缺陷遗留率的解决方案。

* + 1. 测试用例指标

测试用例的指标是用来评估测试用例的质量、测试过程的效果以及软件产品和项目交付的质量，经过项目实际调研和EPG统一讨论，最终将测试用例的指标定义为：

* 覆盖率（Coverage）：功能覆盖：测试用例覆盖所有用户故事或需求的程度。
* 有效性（Effectiveness）：测试用例发现缺陷的能力。
* 可重复性（Repeatability）：测试用例在不同时间、不同环境或不同执行者下得到一致结果的能力。
* 测试用例通过率（Test Case Pass Rate）：成功执行并符合预期结果的测试用例与总执行测试用例的比例。

EPG计算了37个项目的测试用例整体指标的平均值，如下图所示：

![](data:image/png;base64...)

测试用例整体指标平均值为67.32（满分100），整体处于较低水平，仍然存在较大的提升空间。以下列举出部分环境相似度低的产品及其评分低的具体子项。

|  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- |
| **项目基本信息** | | | **测试用例分析（每项25，总分100）** | | | | |
| **项目编号** | **项目名称** | **迭代版本** | **覆盖程度** | **有效程度** | **通过程度** | **重复性** | **整体** |
| 32500630 | 江苏移动ERP集中化系统资产管理功能优化服务合同 | V1.3（功能优化） | 10 | 5 | 18 | 16 | 49 |
| 32500635 | 上研院2022年供应链管理系统四期软件开发项目采购合同 | V1.0 | 10 | 10 | 16 | 13 | 49 |
| 32500659 | 中国移动吉林公司2022年网络建设在线监控系统建设工程公开招标项目 | V1 | 15 | 3 | 18 | 15 | 51 |
| 32500656 | 首钢京唐钢铁联合有限责任公司领导人员民主测评系统项目甄选合同 | V1 | 10 | 5 | 20 | 16 | 51 |
| 32500684 | 中移动信息技术有限公司2023年天津支撑系统能力提升研发项目采购订单（PO-4520646275） | V1.0(功能上线) | 13 | 5 | 15 | 20 | 53 |
| 32500628 | 上海移动2022年第1批管信域供应链等IT新系统日常迭代开发服务 （采购订单编号2021806419） | V1 | 10 | 10 | 20 | 13 | 53 |
| 32500682 | 中移动信息 2023 年集中化计划建设管理系统四期工程数据呈现等 11个模块应用软件开发与系统集成服务采购合同 | v3.4 | 15 | 10 | 18 | 15 | 58 |
| 32500636 | 中移动信息天津2022年管理信息系统能力提升工程资产管理系统软件开发与集成服务采购合同 | V1.0(功能上线) | 15 | 8 | 18 | 18 | 59 |
| 32500610 | 上海移动2022年工程管理系统集中化配套项目电讯盈科软件开发 |  | 13 | 13 | 15 | 18 | 59 |
| 32500645 | 2022-2023年中国联通北京市分公司财务管理运营平台（京智睿.财）软件委托研究开发服务框架合同 | V1 | 10 | 10 | 22 | 18 | 60 |
| 32500667 | China Mobile HONGKONG ERP Enhancement MSS 2023 | V1（23年7月） | 15 | 10 | 22 | 14 | 61 |

EPG计算了37个项目的测试用例与缺陷密度的相关性分析，如下图所示

![](data:image/png;base64...)

![](data:image/png;base64...)

可以从分析图得出，缺陷遗留率与测试用例整体指标为负相关的关系，即测试用例整体指标越高，则缺陷遗留率越低，产品质量越高。

为了提高质量，EPG需要找出降低产品缺陷的有效方法。

从故障反馈报告来看，测试用例存在的问题主要包括用例场景遗漏和用例质量不足，其中用例场景遗漏是指测试用例中缺少对某个使用场景的描述，导致测试人员忽略了对应场景下的产品测试，最终造成缺陷遗留的情况。而用例质量不足指的是测试用例存在错误，导致测试人员进行正确的测试流程，而产生的错误结果无法发现产品缺陷，因此误认为产品不存在缺陷的情况。

对于上述两种常见的测试用例异常，EPG提出的解决方案是针对出现过的缺陷和故障编写、完善测试用例，形成故障测试用例库，在相类似产品之间共享使用。

一方面，通过测试用例库在相类似产品之间的共享使用，提高测试人员对相同场景的重视，防止场景遗漏问题；另一方面，测试人员也可借鉴历史测试用例的编写经验，减少重写测试用例的工作负担，提高测试用例质量，减少测试流程错误，提高测试效率。

形成测试用例库，需要收集现场问题故障，并对现场故障进行分析，确认是场景遗漏和案例质量不足原因导致的话，在故障索引表中添加基于故障的用例，并形成故障用例库。在测试程序时，判断故障用例库是否在其他产品通用，若通用，则通过用例索引表查找用例，对产品进行测试。

综上，我们提出的方案是针对出现过的缺陷和故障编写、完善测试用例，形成测试用例库，在相类似产品之间共享使用，既能防止相类似产品出现场景遗漏的问题、提高测试全面性，又能在重复测试过程中减轻测试工作量，提高测试效率。

* 1. 关键因素分析结果

从以上分析结果可以看出，缺陷遗留率与环境相似度、测试用例指标均存在强相关关系。提高环境相似度、完善测试用例健壮性是降低缺陷遗留率、提升产品/项目质量的有效途径。

EPG也根据项目缺陷报告采集的数据，将环境相似度和测试用例指标为核心因子，形成了关于缺陷遗留率的性能模型关系式：

**![](data:image/png;base64...)**

1. 建议解决方案
   1. 提高环境相似度

使用容器化技术：利用Docker等容器技术确保开发、测试和生产环境的一致性。

基础设施即代码（IaC）：使用Terraform、Ansible等工具自动化环境的配置和管理，确保环境配置的一致性。

同步测试与生产环境：定期同步测试环境与生产环境的配置和数据，以减少环境差异。

云服务应用：尽可能采用云服务来提供一致的测试和生产环境，利用云平台的可扩展性和一致性来提高环境相似度。

环境配置和数据管理标准化：进行环境配置和数据管理的标准化，确保所有环境的一致性。

实施环境监控：利用监控系统来持续跟踪环境状态，确保及时发现并解决环境不一致的问题。

* 1. 使用测试用例库

1） 除产品及项目本身的测试用例以外，从测试用例库查找相类似产品的测试用例，使用符合自身条件的测试用例进行测试，防止出现与相类似产品相同的故障；

2） 收集本产品的缺陷、故障信息，编写具有针对性的测试用例并添加到测试用例库，提供给相类似产品使用；

3） 定期维护测试用例库，精简重复的测试用例，融合相类似的测试用例，提高测试用例有效性。